<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    应用层协议 |
    
    Kevin&#39;s blog</title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">
  
  <script src="/js/pace.min.js"></script>
</head>
</html>
<body>
<main class="content">
  <section class="outer">
  <article id="post-应用层协议" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      应用层协议
    </h1>
  
  




      </header>
    

    
      <div class="article-meta">
        <a href="/2019/08/01/应用层协议/" class="article-date">
  <time datetime="2019-08-01T06:16:39.000Z" itemprop="datePublished">2019-08-01</time>
</a>
        
      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <h1 id="一，应用层规范"><a href="#一，应用层规范" class="headerlink" title="一，应用层规范"></a>一，应用层规范</h1><p>应用层的具体内容就是精确定义这些通信规定</p>
<ul>
<li>应用进程交换的报文类型，如请求报文和响应报文</li>
<li>各种报文类型的语法，如报文中的各个字段及其详细描述</li>
<li>字段的语义，即包含在字段中的信息含义</li>
<li>进程何时，如何发送报文，以及对报文进行响应的规则</li>
</ul>
<h1 id="二，应用层协议"><a href="#二，应用层协议" class="headerlink" title="二，应用层协议"></a>二，应用层协议</h1><h2 id="1-域名系统DNS"><a href="#1-域名系统DNS" class="headerlink" title="1.域名系统DNS"></a>1.域名系统DNS</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>互联网的命名系统，将人们便于记住的名字转为ip地址，为网络应用提供核心服务</p>
<h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p>将互联网上的主机名字解析为ip地址</p>
<p><strong>补充</strong></p>
<ol>
<li><p>为什么机器在处理ip数据报时要使用ip地址而不使用域名呢？</p>
<p> ip地址的长度是固定的32位，如果是ipv6地址，则是固定的128位，长度固定，但是域名是便于用户记忆，长度一般是不固定的，机器处理起来比较困难</p>
</li>
</ol>
<h3 id="域名解析过程"><a href="#域名解析过程" class="headerlink" title="域名解析过程"></a>域名解析过程</h3><p>宏观：</p>
<p><img src="https://img-blog.csdnimg.cn/2019080114381298.png" alt="在这里插入图片描述"></p>
<p>递归查询和迭代查询：</p>
<ol>
<li><p>主机向本地域名服务器的查询一般都是采用递归查询。</p>
<p> 所谓递归查询就是：如果主机所询问的本地域名服务器不知道被查询的域名的IP地址，那么本地域名服务器就以DNS客户的身份，向其它根域名服务器继续发出查询请求报文(即替主机继续查询)，而不是让主机自己进行下一步查询。因此，递归查询返回的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址。</p>
</li>
</ol>
<ol start="2">
<li><p>本地域名服务器向根域名服务器的查询的迭代查询。</p>
<p> 迭代查询的特点：当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地服务器进行后续的查询。根域名服务器通常是把自己知道的顶级域名服务器的IP地址告诉本地域名服务器，让本地域名服务器再向顶级域名服务器查询。顶级域名服务器在收到本地域名服务器的查询请求后，要么给出所要查询的IP地址，要么告诉本地服务器下一步应当向哪一个权限域名服务器进行查询。最后，知道了所要解析的IP地址或报错，然后把这个结果返回给发起查询的主机</p>
</li>
</ol>
<p><img src="https://img-blog.csdnimg.cn/20190801144254752.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>全：</p>
<p><img src="https://img-blog.csdnimg.cn/20190801145004558.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><strong>补充问题：</strong></p>
<p>为什么域名解析请求和响应过程都是基于UDP协议？</p>
<h2 id="2-FTP简单文件传输协议"><a href="#2-FTP简单文件传输协议" class="headerlink" title="2.FTP简单文件传输协议"></a>2.FTP简单文件传输协议</h2><h3 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h3><p>文件传输协议ftp是基于tcp协议的文件传输服务。提供对远程计算机文件的增删改查操作，主要是为了减少或者消除在不同操作系统上处理文件的不兼容性</p>
<p>这些不兼容性体现在：</p>
<ul>
<li>计算机存储数据的格式不同</li>
<li>文件的目录结构和文件命名的规定不同</li>
<li>对于相同的文件存取功能，操作系统使用的命令不同</li>
<li>访问控制的方法不同</li>
</ul>
<p>ftp工作流程：</p>
<p><img src="https://img-blog.csdnimg.cn/20190801151955981.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>数据传输：</p>
<p><img src="https://img-blog.csdnimg.cn/20190801152355766.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><strong>补充问题：</strong></p>
<ol>
<li><p>为什么建立两个独立连接？</p>
<p> 使协议更加简单，容易实现，同时在传输文件时还可以利用控制连接对文件传输进行控制</p>
</li>
</ol>
<h2 id="3-http协议"><a href="#3-http协议" class="headerlink" title="3.http协议"></a>3.http协议</h2><h3 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h3><p>http协议是一个基于tcp/ip的应用层协议，是一种详细规定了浏览器和万维网(WWW = World Wide Web)服务器之间互相通信的规则，通过因特网传送万维网文档的数据传送协议。</p>
<h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><p><img src="https://img-blog.csdnimg.cn/20190801153817250.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>一次HTTP操作称为一个事务，所以也称http是面向事务的协议</p>
<p>所以一次http请求的时间 = 2*往返rtt + 文档传输时间</p>
<p><strong>特点：</strong></p>
<ol>
<li><p>简单快速：客户向服务器请求服务时，只需要传送请求方法和路径，请求方法常用的有get，post，每种方法规定了客户和服务器联系的类型不同，由于http协议简单，使得http服务器程序规模小，通信速度快</p>
</li>
<li><p>灵活：http允许传输任意类型的数据对象，正在传输的类型由content-type加以标记</p>
</li>
<li><p>无连接：每次连接只处理一个请求。服务器处理完客户端的请求并收到客户端的回应后就断开连接，采取这种方式可以节省传输时间，http1.1版本支持可持续连接</p>
</li>
<li><p>无状态：http是无状态协议，无状态是指协议对事务处理没有记忆能力，对于后续请求如果需要用到前面的信息，则他必须重新传，这样可能导致每次连接传输的数据量增大，另一方面，在服务器不需要先前信息时，应答就比较快</p>
</li>
</ol>
<h3 id="请求和响应"><a href="#请求和响应" class="headerlink" title="请求和响应"></a>请求和响应</h3><p>请求报文格式：</p>
<p><img src="https://s1.51cto.com/images/20180426/1524747772856125.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" alt></p>
<p>响应报文格式：</p>
<p><img src="https://s1.51cto.com/images/20180426/1524748488887423.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=" alt></p>
<p>请求和响应报文的不同之处在于请求行和响应行</p>
<p>在请求行中比较重要的就是请求方法：</p>
<ul>
<li>get ：  从服务器获取资源    </li>
<li>post  ：请求修改服务器资源</li>
<li>put   ：向服务器上传资源</li>
<li>delete  ：  删除服务器资源</li>
<li>head     ： 获得服务器文档首部</li>
</ul>
<p>在响应行中最重要的就是状态码：</p>
<ul>
<li>1xx    ：表示HTTP请求已经接受，继续处理请求</li>
<li>2xx    ：表示HTTP请求已经处理完成</li>
<li>3xx    ：表示把请求访问的URL重定向到其他目录</li>
<li>4xx    ：表示客户端出现错误</li>
<li>5xx    ：表示服务端出现错误</li>
</ul>
<p>常见状态码：</p>
<ul>
<li>200 OK ： 请求处理成功</li>
<li>301 MOVE PERMANENTLY ；永久跳转</li>
<li>403 FORBIDDEN ：客户端无权限访问</li>
<li>404 NOT FOUND：服务器找不到响应资源</li>
<li>500 INTERNAL SERVER ERROR : 服务器出错</li>
<li>502 BAD GATEWAY ：后端没有按照http协议返回响应</li>
<li>503 SERVICE UNAVALIBILE ：服务不可用</li>
<li>504 GATEWAY TIMEOUT : 请求超时</li>
</ul>
<p>http响应模型：</p>
<p>服务器收到HTTP请求之后，会有多种方法响应这个请求，下面是HTTP响应的四种模型：</p>
<ul>
<li><p>单进程I/O模型</p>
<p>  服务端开启一个进程，一个进程仅能处理一个请求，并且对请求顺序处理；</p>
</li>
<li><p>多进程I/O模型</p>
<p>  服务端并行开启多个进程，同样的一个进程只能处理一个请求，这样服务端就可以同时处理多个请求；</p>
</li>
<li><p>复用I/O模型</p>
<p>  服务端开启一个进程，但是呢，同时开启多个线程，一个线程响应一个请求，同样可以达到同时处理多个请求，线程间并发执行；</p>
</li>
<li><p>复用多线程I/O模型</p>
<p>  服务端并行开启多个进程，同时每个进程开启多个线程，这样服务端可以同时处理进程数M*每个进程的线程数N个请求。</p>
</li>
</ul>
<h3 id="session和cookie"><a href="#session和cookie" class="headerlink" title="session和cookie"></a>session和cookie</h3><p>cookie原理：</p>
<p><img src="https://img-blog.csdnimg.cn/20190801163401145.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>session原理：</p>
<p><img src="https://img-blog.csdnimg.cn/2019080116352992.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>区别：</p>
<ul>
<li>session是服务器端技术，数据保存在服务器端，cookie是客户端技术，数据保存在客户端文件</li>
<li>session的安全性高于cookie</li>
<li>session保存在服务端，当服务端访问增多时，会比较占用性能</li>
</ul>
<h3 id="http版本比较"><a href="#http版本比较" class="headerlink" title="http版本比较"></a>http版本比较</h3><p><img src="https://img-blog.csdnimg.cn/20190801164239808.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<h2 id="4-https"><a href="#4-https" class="headerlink" title="4.https"></a>4.https</h2><h3 id="简介-2"><a href="#简介-2" class="headerlink" title="简介"></a>简介</h3><p>http是超文本安全传输协议，由于http在网络上是明文传输，可能会被拦截，而https是加密传输，加密和解密工作交由ssl完成</p>
<p>区别：</p>
<p><img src="https://img-blog.csdnimg.cn/20190801164954575.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20190801165219965.png" alt="在这里插入图片描述"></p>
<p>HTTPS和HTTP的区别主要为以下四点：</p>
<ul>
<li>一、https协议需要到ca申请证书，一般免费证书很少，需要交费。</li>
<li>二、http是超文本传输协议，信息是明文传输，https 则是具有安全性的ssl加密传输协议。</li>
<li>三、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。</li>
<li>四、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。</li>
</ul>
<h3 id="ssl加密解密"><a href="#ssl加密解密" class="headerlink" title="ssl加密解密"></a>ssl加密解密</h3><p>加密方法：</p>
<p><strong>对称加密：</strong></p>
<p>对称加密原理：</p>
<ul>
<li>对称加密靠秘钥来进行加密，也靠同一个秘钥来进行解密</li>
</ul>
<p>常用的对称加密算法：</p>
<ul>
<li>DES</li>
<li>3DES</li>
<li>AES</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * AES加密</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> data</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">encrypt</span><span class="params">(String data)</span></span>&#123;</span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Cipher cipher = Cipher.getInstance(<span class="string">"AES"</span>);</span><br><span class="line">        cipher.init(Cipher.ENCRYPT_MODE,getSecretKey());</span><br><span class="line">        result = <span class="keyword">new</span> String(cipher.doFinal(data.getBytes(<span class="string">"utf-8"</span>)));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * AES解密</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> data</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">decrypt</span><span class="params">(String data)</span></span>&#123;</span><br><span class="line">    String result = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        Cipher cipher = Cipher.getInstance(<span class="string">"AES"</span>);</span><br><span class="line">        cipher.init(Cipher.DECRYPT_MODE,getSecretKey());</span><br><span class="line">        result = <span class="keyword">new</span> String(cipher.doFinal(data.getBytes(<span class="string">"utf-8"</span>)));</span><br><span class="line">    &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">        e.getMessage();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获得加密和解密所需的密钥</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> SecretKey <span class="title">getSecretKey</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SecretKey secretKey = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        KeyGenerator keyGenerator = KeyGenerator.getInstance(<span class="string">"AES"</span>);</span><br><span class="line">        SecureRandom secureRandom = <span class="keyword">new</span> SecureRandom();</span><br><span class="line">        keyGenerator.init(secureRandom);</span><br><span class="line">        secretKey = keyGenerator.generateKey();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> secretKey;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对称加密算法的优缺点：</p>
<ul>
<li>优点：计算量相对较小，可以处理数据量较大的数据的加密工作</li>
<li>缺点：密钥容易泄露，且服务器管理密钥比较麻烦</li>
</ul>
<p><strong>非对称加密</strong></p>
<p>非对称加密原理：</p>
<ul>
<li>非对称加密靠公钥来进行加密，靠私钥来进行解密</li>
</ul>
<p>常见的非对称加密算法：</p>
<ul>
<li>rsa加密算法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RSA</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 公钥加密</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> data</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> publicKey</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] publicEncrytype(String data,PublicKey publicKey)&#123;</span><br><span class="line">        <span class="keyword">byte</span>[] result = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Cipher cipher = Cipher.getInstance(<span class="string">"RSA"</span>);</span><br><span class="line">            cipher.init(Cipher.ENCRYPT_MODE,publicKey);</span><br><span class="line">            result = cipher.doFinal(data.getBytes(<span class="string">"UTF-8"</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 私钥解密</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> data</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> privateKey</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">privateDecrytypr</span><span class="params">(<span class="keyword">byte</span>[] data,PrivateKey privateKey)</span></span>&#123;</span><br><span class="line">        String result = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Cipher cipher = Cipher.getInstance(<span class="string">"RSA"</span>);</span><br><span class="line">            cipher.init(Cipher.DECRYPT_MODE,privateKey);</span><br><span class="line">            result = <span class="keyword">new</span> String(cipher.doFinal(data),<span class="string">"utf-8"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获得公钥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> keyPair</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> PublicKey <span class="title">getPublicKey</span><span class="params">(KeyPair keyPair)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> keyPair.getPublic();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获得私钥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> keyPair</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> PrivateKey <span class="title">getPrivateKey</span><span class="params">(KeyPair keyPair)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> keyPair.getPrivate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获得密钥对</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> KeyPair <span class="title">getKeyPair</span><span class="params">()</span></span>&#123;</span><br><span class="line">        KeyPair keyPair = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(<span class="string">"RSA"</span>);</span><br><span class="line">            SecureRandom secureRandom = <span class="keyword">new</span> SecureRandom();</span><br><span class="line">            keyPairGenerator.initialize(<span class="number">64</span>,secureRandom);</span><br><span class="line">            keyPair = keyPairGenerator.generateKeyPair();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> keyPair;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>非对称加密优缺点：</p>
<ul>
<li>优点：数据传输安全</li>
<li>缺点：计算量大，加密和解密速度较慢</li>
</ul>
<h3 id="https工作流程"><a href="#https工作流程" class="headerlink" title="https工作流程"></a>https工作流程</h3><p><img src="https://img-blog.csdnimg.cn/2019080118410042.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MTkyMjI4OQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p><a href="https://blog.csdn.net/liupeifeng3514/article/details/79840274" target="_blank" rel="noopener">https原理简单介绍</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kevin091827.github.io/2019/08/01/应用层协议/" data-id="cjz54ryh9001vkwu3w4npzlt9"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/计算机网络/">计算机网络</a></li></ul>

    </footer>

  </div>

  
    
  <nav class="article-nav">
    
      <a href="/2019/08/02/tcp-and-udp/" class="article-nav-link">
        <strong class="article-nav-caption">Newer posts</strong>
        <div class="article-nav-title">
          
            tcp and udp 
          
        </div>
      </a>
    
    
      <a href="/2019/07/25/二叉搜索树/" class="article-nav-link">
        <strong class="article-nav-caption">Olde posts</strong>
        <div class="article-nav-title">二叉搜索树</div>
      </a>
    
  </nav>


  

  
    
  

</article>



</section>
  <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
    <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
    <li><i class="fe fe-bookmark"></i> <span id="busuanzi_value_page_pv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>&copy; 2019 Kevin&#39;s blog</li>
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li>
    </ul>
  </div>
</footer>

</main>
<aside class="sidebar">
  <button class="navbar-toggle"></button>

<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/hexo.svg" alt="Kevin&#39;s blog"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">Home</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">Archives</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/gallery">Gallery</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">About</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="Search">
        <i class="fe fe-search"></i>
        Search
      </a>
    </li>
  </ul>
</nav>

<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>

<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
</aside>
<script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/snap.svg-min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>


  <script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/ocean.js"></script>

</body>
</html>